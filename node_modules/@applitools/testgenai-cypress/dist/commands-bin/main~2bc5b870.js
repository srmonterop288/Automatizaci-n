(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){"use strict";var a,r=n(11),s=n(1);!function(e){e.PULL_FROM_SERVER="pullFromServer",e.PREFLIGHT_ON_PREMISE_API="preflightOnPremiseApi",e.LOAD_FROM_LOCAL_DISK="loadFromLocalDisk"}(a||(a={}));var i=n(24);class o{constructor(){throw new Error("cannot instantiate using a static class")}static initialize(){var e;(null===(e=null==o?void 0:o.options)||void 0===e?void 0:e.isEnabled)?s.a.log("TestGenAI","v"+o.version):s.a.log("TestGenAI","disabled"),console.log(o.apiUrl),o.state={variables:{},currentTestId:null,currentTestData:null,currentTestDataFilePath:null,testReport:[],lastGetOptions:null,autohealDataMode:o.state.autohealDataMode,autohealDataFolders:o.state.autohealDataFolders,currentPomAutohealDataId:o.state.currentPomAutohealDataId,confirmDialogResponse:!0,autohealDataCache:new i.a,currentCyTestDetails:null}}}o.ApiToken=null,o.version="3.21.0",o.isDevMode=!1,o.apiUrl=o.isDevMode?"https://apidev.preflightdev.com/v1/":"https://api.preflight.com/v1/",o.authServerUrl=o.isDevMode?"https://authdev.preflightdev.com":"https://auth.preflight.com",o.emailDomain=o.isDevMode?"test-dev.preflight.com":"test.preflight.com",o.adminEmailDomain="testadmin.preflight.com",o.localAutohealDataSuffix="-PreflightCyTest_AutohealData.json",o.localPomAutohealDataSuffix="-PreflightCyPOM_AutohealData.json",o.fixedFiles=[],o.options=r.a.defaults,o.state={variables:{},currentTestId:null,currentActionId:null,autohealDataMode:a.LOAD_FROM_LOCAL_DISK,currentPomAutohealDataId:null,currentTestData:null,currentTestDataFilePath:null,testReport:[],lastGetOptions:null,confirmDialogResponse:!0,autohealDataCache:new i.a,currentCyTestDetails:null};t.a=o},1:function(e,t,n){"use strict";var a=n(0);t.a=new class{constructor(){this.fileName="debug/PreflightCypress.log",this.logRecords=[],Cypress.on("window:before:load",()=>{this.init(cy.state("window"))})}init(e){this.win=e}get nowS(){return(new Date).toJSON()}startNew(e){this.fileName=e}cyLog(e,t,n=null,a=null){if(!a||!1!=!a.log)return Cypress.log({name:e,message:t,$el:null})}log(e,t,n=null,a=null){let r=this.cyLog(e,t,null,a);return this.logRecords.push(`${this.nowS}\t[INFO]\t${e}\t${t?" => "+t:""}`),r}warning(e,t){this.log("WARNING: "+e,t)}debug(e,t){"debug"==a.a.options.debug.mode&&(console.debug("\tPF_"+e,t||"",this.getDataString(t)),this.logRecords.push(`${this.nowS}\t[DEBUG]\t${e}\t${this.getDataString(t)}`))}cyFlushToFile(){try{if(!a.a.options.debug.fileLogEnabled)return console.debug("Flushing logs to file is disabled"),cy.wait(1,{log:!1});if(this.logRecords.length<=0)return console.debug("No logs to flush"),cy.wait(1,{log:!1});console.debug("Flushing logs to file");let e=this.logRecords.map(e=>e+"\n").join("");return console.debug("Writing to file",e.length),e=this.maskUrls(e),cy.writeFilePF(this.fileName,e,{append:!0}).then(()=>{this.logRecords=[]})}catch(e){console.debug("Failed to write to file"),console.error(e)}}getDataString(e){var t;if(null==e)return"";try{if(null==e?void 0:e.tagName){const n=null===(t=null==e?void 0:e.cloneNode)||void 0===t?void 0:t.call(e,!0);e=n?"\n"+n+"\n":"\n[Element could not be cloned]\n"}else(null==e?void 0:e.stack)?e=JSON.stringify({message:e.message,stack:e.stack}):"object"==typeof e?e=JSON.stringify(e):"boolean"==typeof e&&(e=e.toString());return" => "+e}catch(e){return"Failed to serialize data "+((null==e?void 0:e.message)||"")}}maskUrls(e){return e.replace(/((https|http|www)?:\/\/[^\s"']+)/g,e=>{if(e.includes("__cypress"))return e;let t=Math.round(.6*e.length);const n=e.length-t;return e.substring(0,t)+"x".repeat(n)})}maskString(e,t=.5){if(!e||"string"!=typeof e)return e;(t>1||t<=0)&&(t=.5);let n=Math.round(e.length*t);const a=e.length-n;return e.substring(0,n)+"x".repeat(a)}}},10:function(e,t,n){"use strict";var a=n(0),r=n(2);var s=new class{get authServerUrl(){return a.a.authServerUrl}async getAccessToken(e,t=!1){try{if(a.a.ApiToken&&!t)return a.a.ApiToken;let n=new o(this.authServerUrl),r=this.apiKeyToClientDetails(e),s={client_id:r.clientId,client_secret:r.clientSecret,grant_type:"client_credentials",scope:"tests_run"},i=Object.keys(s).map(e=>`${e}=${s[e]}`).join("&"),l=await n.makeRequest("POST","/connect/token",i,null,"application/x-www-form-urlencoded",!1),u=JSON.parse(l);return a.a.ApiToken=u.access_token,a.a.ApiToken}catch(e){throw e.responseText="Authorization failed. Please check your Preflight API key.",e}}apiKeyToClientDetails(e){var t;try{let n=null===(t=Object(r.a)(e))||void 0===t?void 0:t.split(":");if(!n||n.length<2)throw new Error("ApiToken not found or has invalid format");return{clientId:n[0],clientSecret:n[1]}}catch(t){throw new Error(`ApiToken "${e}" has invalid format`)}}};class i{constructor(e=""){this.baseUrl="",this.authHeaders={},this.baseUrl=e}get apiKey(){return a.a.ApiKey}makeRequest(e,t,n,a=null,r="application/json;charset=UTF-8",o=!1){let l=null;if(i.RequestFunction)return new Promise(async(u,c)=>{try{o&&(l=await s.getAccessToken(this.apiKey));let c=await i.RequestFunction(e,this.baseUrl+t,n,a,r,l),d=c.body||c.response;if("blob"==a)return void u(d);u("string"!=typeof d?JSON.stringify(d):d)}catch(e){c({status:e.status,statusText:e.statusText,responseText:e.body?e.body:JSON.stringify(e.responseText)})}})}static xhrRequest(e,t,n,a,r,s){return new Promise((o,l)=>{let u=new XMLHttpRequest;a&&(u.responseType=a),u.open(e,t),r&&u.setRequestHeader("Content-Type",r),s&&u.setRequestHeader("Authorization","bearer "+s),u.onload=function(){this.status>=200&&this.status<300?o(u):l(i.buildRejectResponse(this.status,u))},u.onerror=function(){l(i.buildRejectResponse(this.status,u))},u.send(n)})}async makeAuthRequest(e,t,n,a=null,r="application/json;charset=UTF-8"){try{return await this.makeRequest(e,t,n,a,r,!0)}catch(i){if(401==i.status)return await s.getAccessToken(this.apiKey,!0),await this.makeRequest(e,t,n,a,r,!0);throw i}}static buildRejectResponse(e,t){let n=null,a=null;try{n=t.responseText,a=t.statusText}catch(e){}return{status:e,statusText:a,responseText:500==e?"Connection to the Preflight server failed.":n,responseTextDetail:n}}post(e,t,n=!0){return"string"==typeof t||t instanceof String||(t=JSON.stringify(t)),n?this.makeAuthRequest("POST",e,t):this.makeRequest("POST",e,t)}get(e,t=null,n=!0){return t&&(e+="?"+Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")),n?this.makeAuthRequest("GET",e):this.makeRequest("GET",e)}getBlob(e,t=!0){return t?this.makeAuthRequest("GET",e,void 0,"blob"):this.makeRequest("GET",e,void 0,"blob")}}i.RequestFunction=i.xhrRequest;var o=t.a=i},11:function(e,t,n){"use strict";var a=n(8);class r{}r.defaults={isEnabled:!0,apiUrl:"https://localhost:5051/",waitForNetworkCalls:{isEnabled:!0,idle:2e3,timeout:6e4,checkWebSockets:!1},selectorsGeneratorOptions:new a.SelectorGeneratorOptions,debug:{mode:"debug",fileLogEnabled:!1,recordTestRun:!1,isAutohealEnabled:!0,isContextAwarenessEnabled:!0,isReplacingVariablesEnabled:!0,isHandlingModalDialogsEnabled:!0,isWritingToFilesEnabled:!0,waitForNetworkCallsSolution:2,isNetworkLogEnabled:!1},autohealDataFolders:[],fixtureDataFolders:[],showXHRLogs:!0,generateFixedTests:!0,getElementTimeout:6e4,ifExistsTimeout:3e3,allowObscuredElements:!0,waitToDisappear:{isEnabled:!0,searchElementTimeout:1e4,timeout:9e4},forceActions:!1},t.a=r},1543:function(e,t,n){},1544:function(e,t,n){e.exports=n(49)},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(3),r=n(2),s=n(1);class i{get doc(){return Object(a.d)()}constructor(e){this.parentSelectors=[],this.parentSelectors=e||[]}getElementsByXPath(e,t){try{let n=this.getParentElement(),a=[],r=this.doc.evaluate(e,t||n,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0,t=r.snapshotLength;e<t;++e)a.push(r.snapshotItem(e));return a}catch(e){return[]}}getParentElement(e=this.parentSelectors,t){let n=this.doc;s.a.debug("getParentElement",{parentSelectors:e,mainSelector:t});for(let[a,r]of e.entries()){s.a.debug(`getParentElement: looking for element with selector ${r} in `,n);const i=n.querySelector(r);if(!i)return this.doc;let o=["IFRAME","FRAME"].some(e=>e===i.tagName),l=i.shadowRoot;if(o)s.a.debug("getParentElement: next child is iframe",i),n=i.contentDocument;else if(l)if(s.a.debug("getParentElement: next child has shadow root"),0===i.children.length)s.a.debug("getParentElement: next child is empty shadow root",i),n=i.shadowRoot;else{s.a.debug("getParentElement: next child has shadow root and children elements");const r=e[a+1]||t;if(!r)continue;(this.isXpathSelector(r)?this.getElementsByXPath(r,i).length>0:i.shadowRoot.querySelector(r))?(s.a.debug("getParentElement: next element is in shadow root",i),n=i.shadowRoot):(s.a.debug("getParentElement: next element is in children elements",i),n=i)}}return n}getElements(e,t=this.parentSelectors){try{let n=this.doc;return t.length>0&&(n=this.getParentElement(t,e)),this.isXpathSelector(e)?this.getElementsByXPath(e):Array.from(n.querySelectorAll(e))}catch(e){return s.a.debug("getElements exception",e.message),[]}}getFirstVisibleElement(e,t=this.parentSelectors){let n=this.getElements(e,t);return n=n.filter(e=>Object(r.i)(e)||Object(r.j)(e)),Object(r.f)(n)}findFirstVisibleParent(e,t=5){if(!e)return null;let n=e;for(let e=0;e<t;e++){if(this.isElVisible(n))return n;n=n.parentElement}return e}async isElOnPage(e,t=5e3,n){var a,r,i;if(await this.searchElOnPage(e,t,n))return!0;if(!((null===(a=this.getElements(".ag-root-wrapper"))||void 0===a?void 0:a.length)>0))return!1;const o=null===(r=this.getElements(".ag-center-cols-viewport"))||void 0===r?void 0:r[0],l=null===(i=this.getElements(".ag-body-viewport"))||void 0===i?void 0:i[0];o.scrollLeft=0,l.scrollTop=0;let u=o.scrollLeft;for(s.a.log("Performing horizontal scroll in AG Grid table to find element");o.scrollWidth>u+o.clientWidth;){o.scrollLeft+=o.clientWidth;if(await this.searchElOnPage(e,t,n))return!0;u=o.scrollLeft}o.scrollLeft=0;let c=l.scrollTop;for(s.a.log("Performing vertical scroll in AG Grid table to find element");l.scrollHeight>c+l.clientHeight;){l.scrollTop+=l.clientHeight;if(await this.searchElOnPage(e,t,n))return!0;c=l.scrollTop}return l.scrollTop=0,!1}async searchElOnPage(e,t=5e3,n){t=Math.max(t,500);let a=Date.now()+t,i=!0;for(s.a.debug("isElOnPage",{selector:e,timeout:t});a>Date.now();){await Object(r.p)(500);let a=this.getElements(e);if(a.length>0&&Object(r.h)(a[0],n)&&(this.isElVisible(a[0])||this.isFileInput(a[0])))return s.a.debug("isElOnPage",!0),!0;i&&t>500&&s.a.debug("log",`Searching element with main selector for ${t/1e3}s`),i=!1}return s.a.debug("isElOnPage",!1),!1}isElOnPageSync(e){let t=this.getElements(e);return!!(t.length>0&&(this.isElVisible(t[0])||this.isFileInput(t[0])))}isXpathSelector(e){return e&&!!e.match("^\\(*[.*]{0,1}/{1,2}")}isFileInput(e){var t;return"INPUT"===e.tagName&&"file"==(null===(t=e.getAttribute("type"))||void 0===t?void 0:t.toLowerCase())}isElVisible(e){return Object(r.i)(e)}getVisibleElement(e,t=5){let n=e.find(e=>this.isElVisible(e));return n||(n=this.findFirstVisibleParent(Object(r.f)(e),t)),n}}},18:function(e,t,n){"use strict";var a=n(9),r=n(1),s=n(3);class i{get doc(){return Object(s.d)()}constructor(){this.downloadedInputs=[];let e=new a.WebPageParserConfig(5e3);e.rootElement=this.doc.body,e.document=this.doc,e.recycleParsedTokes=!0,e.parseElementsOnlyInViewport=!1,this.webParser=a.WebPageParser.BuildFromConfig(e)}async findElement(e){r.a.debug("ContextParserSearchModule findElement START");let t=new a.ElementFinder(e.data);r.a.debug("ContextParserSearchModule parseDOM start"),this.webParser.parseDOM(!1),r.a.debug("ContextParserSearchModule parseDOM end");let n=await t.findByPseudoSelector(this.webParser.parsedTreeRoot,e.target);r.a.debug("ContextParserSearchModule are foundElementData",!!n);let s=null;return n&&(s={element:n.primitive.HtmlElement,confidence:n.confidence,similarResultsCount:n.similarResultsCount,foundElementSimplePathJson:JSON.stringify(n.foundElementSimplePath),targetSimplePathJson:JSON.stringify(n.targetSimplePath),foundElementLocation:[this.getSimpleMessage(n.foundElementSimplePath)],targetLocation:[this.getSimpleMessage(n.targetSimplePath)]}),this.webParser.clearParserDataFromDOM(),r.a.debug("ContextParserSearchModule findElement RESULT",{...s,element:"removed"}),s}static async getParserDataFromUrl(e){return await i.uncompressParserData(e)}async getUncompressedParserData(e){if(this.downloadedInputs[e])return this.downloadedInputs[e];let t=i.uncompressParserData(e);return this.downloadedInputs[e]=t,t}static async uncompressParserData(e){}async getSimplePathFromParserData(e){if(!e)return null;return new a.ParsedTargetTextPathGenerator(e.data).getSimplePathFromPseudoSelector(e.target)}getSimpleMessage(e){if(!e)return null;if(!e.target)return"No target";let t=""+e.target.type;return e.target.content&&(t+=` with text "${this.getShortString(e.target.content)}"`),e.wrapper&&(t+=" inside "+("box"==e.wrapper.type?"panel":e.wrapper.type),e.wrapper.content&&(t+=`" ${this.getShortString(e.wrapper.content)}"`)),e.top?("box"==e.top.type?t+=` on${e.top.content?"":" main "} page `:t+=` in ${e.top.type} `,e.top.content&&(t+=`"${this.getShortString(e.top.content)}"`)):t+=" on main page",t}getShortString(e,t=30){return`${e.substr(0,t)}${e.length>t?"...":""}`}}var o=n(12),l=n(2),u=n(6),c=n(15);class d{constructor(e){this.doc=null,this.doc=document,this.elSelector=e}async search(e,t=3e3){let n=Date.now()+t,a=new c.a;for(r.a.debug("ElementSelectorsSearchModule START",{timeout:t});n>Date.now();){let t=[];if(e.mainSelectors.forEach(n=>{var a,r;let s=this.elSelector.getElements(n).filter(e=>!!e&&(Object(l.i)(e)||Object(l.j)(e)));if(s.length>0){let i=1;i/=s.length,e.expectedText&&(null===(r=null===(a=Object(l.f)(s))||void 0===a?void 0:a.inneText)||void 0===r?void 0:r.trim())!=e.expectedText&&(i-=.25),t.push(new o.a(Object(l.f)(s),u.a.SELECTORS,i,n))}}),e.possibleSelectors.forEach(n=>{var a,r,s;let i=this.elSelector.getElements(n).filter(e=>!!e&&(Object(l.i)(e)||Object(l.j)(e)));if(i.length>0){let c=.5;c/=i.length;let d=e.expectedText,h=null===(a=Object(l.f)(i))||void 0===a?void 0:a.innerText;d&&(null===(r=null==h?void 0:h.trim())||void 0===r?void 0:r.toLowerCase())!=(null===(s=null==d?void 0:d.trim())||void 0===s?void 0:s.toLowerCase())&&(c-=.25),t.push(new o.a(Object(l.f)(i),u.a.SELECTORS,c,n))}}),a=new c.a(t),r.a.debug("ElementSelectorsSearchModule RESULTS",{isReliable:a.isReliableResultFound,searchResults:a.searchResults.map(e=>({...e,element:null}))}),a.isReliableResultFound)return r.a.debug("ElementSelectorsSearchModule FINAL RESULTS",{isReliable:a.isReliableResultFound,searchResults:a.searchResults.map(e=>({...e,element:null}))}),a;await Object(l.p)(500)}return r.a.debug("ElementSelectorsSearchModule FINAL RESULTS",{isReliable:a.isReliableResultFound,searchResults:a.searchResults.map(e=>({...e,element:null}))}),a}}var h=n(0),m=n(17),p=n(25),g=n(4);class f{get doc(){return Object(s.d)()}constructor(e){this.lastError=null,this.elSelector=null,this.elSelector=new m.a(e||[])}async getTestActionAutohealData(e,t,n=""){var a;let r=null===(a=g.a.getTestAutohealDataFileCache(e))||void 0===a?void 0:a.data;return r?g.a.getActionAutohealDataByContextId(r,t):null}async findTestElementByAutohealData(e,t,n,a){var s,o,u;if((null===(s=null===h.a||void 0===h.a?void 0:h.a.options)||void 0===s?void 0:s.isEnabled)&&(null===(u=null===(o=null===h.a||void 0===h.a?void 0:h.a.options)||void 0===o?void 0:o.debug)||void 0===u?void 0:u.isAutohealEnabled))try{if(!e||!t)return this.lastError="Autoheal was not initialized correctly for action id: "+t,null;let s=await this.getTestActionAutohealData(e,t,n);if(!s){if(r.a.log("autoheal","Data for autoheal not found"),r.a.debug("findTestElementByAutohealData | Action not found",{testId:e,actionContextId:t}),a){let e=await this.findElWithContentText(a);return await this.getSearchResult(e,null)}return null}let o=a||s.expectedText,u=new p.a(s.mainSelectors,s.possibleSelectors,o),c=new d(this.elSelector),m=null;if(r.a.debug("findTestElementByAutohealData testActionData.parserData available",!!s.parserData),s.parserData)if(Object(l.l)(s.parserData))r.a.debug("findTestElementByAutohealData downloading parser data",s.parserData),await i.getParserDataFromUrl(s.parserData);else try{r.a.debug("findTestElementByAutohealData reading parser data from JSON"),m=JSON.parse(s.parserData)}catch(e){r.a.debug("Parsing context awareness data failed",e),console.error("Parsing context awareness data failed")}let g=await c.search(u);return g=this.getResultsWithRequiredText(g,a),g.isReliableResultFound?await this.getSearchResult(g,m):(h.a.options.debug.isContextAwarenessEnabled?g=await this.findElWithContextParser(m,g):r.a.log("get-autoheal","Context awareness disabled."),o&&(g=await this.findElWithContentText(o,g)),g=this.getResultsWithRequiredText(g,a),console.debug("searchResults",g),await this.getSearchResult(g,m))}catch(e){return r.a.debug("findTestElementByAutohealData exception",e),null}}async findPomElementByAutohealData(e,t,n){var a,s,i;if((null===(a=null===h.a||void 0===h.a?void 0:h.a.options)||void 0===a?void 0:a.isEnabled)&&(null===(i=null===(s=null===h.a||void 0===h.a?void 0:h.a.options)||void 0===s?void 0:s.debug)||void 0===i?void 0:i.isAutohealEnabled))try{if(!e||!t)return this.lastError="Autoheal was not initialized correctly for "+t,null;let a=await this.getPomElementAutohealData(e,t);if(!a){if(r.a.log("autoheal","Data for autoheal not found"),r.a.debug("findPomElementByAutohealData | Action not found",{pomAutohealDataId:e,autohealKey:t}),n){let e=await this.findElWithContentText(n);return await this.getSearchResult(e,null)}return null}let s=n||a.expectedText,i=a.parsedData,o=new p.a(a.selectors,[],s),l=new d(this.elSelector);r.a.debug("findTestElementByAutohealData pomAutohealDAta.parserData available",!!i);let u=await l.search(o);return u=this.getResultsWithRequiredText(u,n),u.isReliableResultFound?await this.getSearchResult(u,i):(h.a.options.debug.isContextAwarenessEnabled?u=await this.findElWithContextParser(i,u):r.a.log("get-autoheal","Context awareness disabled."),s&&(u=await this.findElWithContentText(s,u)),u=this.getResultsWithRequiredText(u,n),console.debug("searchResults",u),await this.getSearchResult(u,i))}catch(e){return r.a.debug("findElementByAutohealData exception",e),null}}getResultsWithRequiredText(e,t){return t?(e.searchResults=e.searchResults.filter(e=>Object(l.h)(e.element,t)),e):e}async getPomElementAutohealData(e,t){try{let n=g.a.getPomAutohealDataFileCache(e);if(!n)return null;let a=n.data.find(e=>e.autohealKey==t);return null==a?void 0:a.data}catch(e){return r.a.debug("getPomElementAutohealData exception",e),null}}async findElWithContextParser(e,t){if(!e)return r.a.debug("findElWithContextParser","Action has no parser data"),t;let n=new i,a=await n.findElement(e);if(!a)return t;let s=new o.a(a.element,u.a.CONTEXT_AWARENESS,2*a.confidence);return s.contextAwarenessResult=a,t.searchResults.push(s),t}async findElWithContentText(e,t=new c.a){if(r.a.debug("findElWithContentText:",{expectedText:e}),!e)return t;const n=e=>e?e.replace(/\s/g,"").toLowerCase():"";let a=n(e),s=Array.from(this.doc.querySelectorAll("*")).filter(e=>{if(!(n(e.textContent)==a))return!1;let t=Array.from(e.childNodes).find(t=>t.nodeType!=Node.TEXT_NODE&&t.textContent==e.textContent),r=e.getBoundingClientRect();return!t&&r.height>5&&r.width>5});r.a.debug(`findElWithContentText found ${s.length} results`);for(let e of s)t.searchResults.push(new o.a(e,u.a.INNER_TEXT,1/s.length));return t}async getSearchResult(e,t){console.debug("PF: getSearchResult",e);let n=null==e?void 0:e.bestResult;if(!n||n.score<1)return 0;let a=null,r=null==n?void 0:n.bestSelector(this.doc);if(n.contextAwarenessResult)a=n.contextAwarenessResult.foundElementLocation;else if(t){let e=new i;a=e.getSimpleMessage(await e.getSimplePathFromParserData(t))}let s=n.element;return s=Object(l.j)(n.element)?n.element:this.elSelector.getVisibleElement([n.element],3),{elementSimplePath:a,selector:r,element:s}}}f.ReliableScore=1.25;t.a=f},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(18),r=n(1),s=n(0);var i=new class{pushData(e,t,n,a,r){s.a.state.testReport||(s.a.state.testReport=[]);let i={actionContextId:t,originalSelector:e,newSelector:(null==a?void 0:a.primarySelector)||(null==n?void 0:n.selector),autohealData:a,pomAutohealDataId:r};return s.a.state.testReport.push(i),i}},o=n(17),l=n(2),u=n(20),c=n(3),d=n(4);class h{get doc(){return Object(c.d)()}constructor(e,t,n,r){this.elSearchRetryTime=1e3,this.minApplyAutohealTimeout=5e3,this.actionContextId=n,this.mainSelector=e,this.options=t,this.testTitle=r,this.elSelector=new o.a(this.parentSelectors),this.elFinder=new a.a(this.parentSelectors)}get parentSelectors(){return Object(c.b)(this.options)}get isMainSelectorXPath(){return this.elSelector.isXpathSelector(this.mainSelector)}getLogSelector(e){let t="";for(let e of this.parentSelectors)t+=e+" => ";return t+=e,t}async isElMainSelOnPage(e=5e3,t){try{return await this.elSelector.isElOnPage(this.mainSelector,e,t)}catch(e){return r.a.debug("isElMainSelOnPage exception",e),!1}}async canBeProcessedByCypress(e){if(!e)return r.a.debug("canBeProcessedByCypress - function not defined",!1),!1;if(this.elSelector.isXpathSelector(this.mainSelector)||this.parentSelectors.length)return r.a.debug("canBeProcessedByCypress",!1),!1;let t=await this.isElMainSelOnPage();return r.a.debug("canBeProcessedByCypress",t),t}get currentPomAutohealDataId(){return s.a.state.currentPomAutohealDataId}get isPomElementGetCommand(){return!!this.currentPomAutohealDataId}async process(e=6e4,t){var n;try{e=Math.max(e,this.elSearchRetryTime);let a=!1,i=Date.now()+e,o=i-Math.max(e/2,this.elSearchRetryTime+2e3);r.a.log("get",`Searching for element "${this.mainSelector}" ${t?'with text "'+t+'"':""}`);let c=this.applyAutohealTimeout;for(;i>Date.now();)try{let i=o<Date.now()&&s.a.options.allowObscuredElements||(null===(n=this.parentSelectors)||void 0===n?void 0:n.length)>0;if(r.a.debug("get",`Searching for element "${this.mainSelector}" ${t?'with text "'+t+'"':""} ${i?"| Obscured elements allowed.":""}`),await this.isElMainSelOnPage(c,t)){let t=this.elSelector.getFirstVisibleElement(this.mainSelector,this.parentSelectors);if(!t){r.a.debug("getFirstElement returned null");continue}if(!i&&Object(l.k)(this.doc,t)){await this.retryObscured(e);continue}r.a.log(this.isMainSelectorXPath?"get-xPath":"get",this.getLogSelector(this.mainSelector),null,this.options);let n=new u.a(t,this.mainSelector);return await this.generateAutohealDataForElement(t,n),n}c=this.elSearchRetryTime;let h=null;if(this.isPomElementGetCommand?h=await this.elFinder.findPomElementByAutohealData(this.currentPomAutohealDataId,this.autohealKey):d.a.getTestAutohealDataFileCache(s.a.state.currentTestId)?(r.a.log("get","Element not found. **Applying test autoheal data.**",null,this.options),h=await this.elFinder.findTestElementByAutohealData(s.a.state.currentTestId,this.autohealKey,this.testTitle,t)):a||r.a.log("autoheal",`Autoheal data for ${s.a.state.currentTestId} not found`),a=!0,!h){r.a.debug("GetElementCommand - NOT FOUND"),await this.retryNotFound(e);continue}if(o>Date.now()&&Object(l.k)(this.doc,h.element)){await this.retryObscured(e);continue}if(this.mainSelector==h.selector)return r.a.debug("GetElementCommand - $Autoheal selector is the same as original selector"),new u.a(h.element,h.selector);r.a.log("get-autoheal","Element found: **"+(h.elementSimplePath||h.selector)+"**",h.element,this.options);let m=new u.a(h.element,h.selector);m.isFoundByAutoheal=!0,m.elementSimplePath=h.elementSimplePath;let p=await this.generateAutohealDataForElement(h.element,h,!0);return m.selector=p.newSelector,r.a.debug("GetElementCommand - RESULT",{...m,element:"removed"}),m}catch(t){r.a.debug("GetElementCommand.process EXCEPTION",t),await this.retryNotFound(e,"| Exception: "+t.message||!1)}r.a.log("get-autoheal",`Element not found after ${e/1e3}s.`),this.elNotFoundException(this.elFinder.lastError)}finally{s.a.state.currentPomAutohealDataId=null}}get autohealKey(){return this.actionContextId||this.mainSelector}getVariableValues(){var e,t,n;return(null===(n=null===(t=null===(e=s.a.state.variables)||void 0===e?void 0:e.used)||void 0===t?void 0:t.map(e=>e.values))||void 0===n?void 0:n.reduce((e,t)=>[...e,...t],[]))||[]}async generateAutohealDataForElement(e,t,n=!1){var a,r,o;if(!(null===(a=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===a?void 0:a.isEnabled)||!(null===(o=null===(r=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===r?void 0:r.debug)||void 0===o?void 0:o.isAutohealEnabled))return;if(this.isPomElementGetCommand){let a=await this.elFinder.getPomElementAutohealData(this.currentPomAutohealDataId,this.autohealKey);if(!n&&a)return;let r=await d.a.generatePomAutohealDataForElement(e,this.getVariableValues(),s.a.options.selectorsGeneratorOptions);return i.pushData(this.mainSelector,this.actionContextId,t,r,this.currentPomAutohealDataId)}let l=await this.elFinder.getTestActionAutohealData(s.a.state.currentTestId,this.autohealKey);if(!n&&l)return;let u=await d.a.generateAutohealDataForElement(e,this.getVariableValues(),s.a.options.selectorsGeneratorOptions);return i.pushData(this.mainSelector,this.actionContextId,t,u)}elNotFoundException(e){throw new Error("**Element not found**\n"+(e&&"undefined"!=e.trim()?" "+e:""))}async retryNotFound(e,t){r.a.log("get",`**Element not found.** Next try in ${this.elSearchRetryTime/1e3}s. Timeout ${e/1e3}s ${t?"\n"+t:""}`),await Object(l.p)(this.elSearchRetryTime)}async retryObscured(e){r.a.log("get",`**Element obscured.** Next try in ${this.elSearchRetryTime/1e3}s. Timeout ${e/1e3}s`),await Object(l.p)(this.elSearchRetryTime)}get applyAutohealTimeout(){return Math.min(Math.max(this.minApplyAutohealTimeout,s.a.options.getElementTimeout/2),1e4)}}},2:function(e,t,n){"use strict";n.d(t,"p",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"q",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"n",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"o",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"k",(function(){return w})),n.d(t,"h",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"b",(function(){return S}));var a=n(0),r=n(3);function s(e){return new Promise(t=>setTimeout(t,e))}function i(e){return e?void 0===e.length?e:e&&e.length>0?e[0]:null:e}function o(){return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)).slice(0,8)}function l(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}const u=e=>{let t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)},c=e=>e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e,d=e=>e&&"string"==typeof e?e=e.replace(/\\u00A0/g," "):e,h=e=>e&&"string"==typeof e?e=e.replace(" ","\\u00A0"):e,m=e=>decodeURIComponent(atob(e)),p=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol},g=e=>{const t=window.top;if(!t)return;const n=t.document.head.querySelector("[data-hide-command-log-request]");if(e||n)e&&n&&t.document.head.removeChild(n);else{const e=t.document.createElement("style");e.id="showXHRLogs",e.innerHTML=".command-name-request, .command-name-xhr { display: none }",e.setAttribute("data-hide-command-log-request",""),t.document.head.appendChild(e)}},f=e=>{var t;return"INPUT"===e.tagName&&"file"==(null===(t=e.getAttribute("type"))||void 0===t?void 0:t.toLowerCase())},b=e=>{if(!e)return!1;if(e.shadowRoot)return!0;let t=getComputedStyle(e);return 0!==e.offsetWidth&&0!==e.offsetHeight&&"none"!=t.display&&!["hidden","collapse"].includes(t.visibility)},w=(e,t)=>{var n;if(t.shadowRoot)return!1;if(!(null===(n=null===a.a||void 0===a.a?void 0:a.a.options)||void 0===n?void 0:n.isEnabled))return!1;if(!t)return!1;t.scrollIntoView();let r=t.getBoundingClientRect();if(["input","textarea"].includes(t.tagName.toLowerCase())||r.width<15||r.height<5)return!1;let s=Math.min(5,r.width/10),i=Math.min(5,r.height/10),o=[{x:r.left+r.width/2,y:r.top+r.height/2},{x:r.left+s,y:r.top+i},{x:r.left+r.width-s,y:r.top+i},{x:r.left+r.width-s,y:r.top+r.height-i},{x:r.left+s,y:r.top+r.height-i}];function l(e,t){let n=null==t?void 0:t.parentNode;for(;null!=n;){if(n==e)return!0;n=null==n?void 0:n.parentNode}return!1}for(let n=0;n<o.length;n++){let a=e.elementFromPoint(o[n].x,o[n].y);if(a==t||l(t,a)||"IFRAME"==a.tagName)return!1}return!0},y=(e,t)=>{if(!e)return!1;if(void 0===t)return!0;t=v(t);let n=(e=>"INPUT"===e.tagName||"TEXTAREA"===e.tagName)(e)?e.value:Object(r.c)(e);return null==n?void 0:n.includes(t)},v=e=>"string"!=typeof e?"":e.replace(/\s+/g," ").trim(),S=e=>new Promise((t,n)=>{const a=new FileReader;a.onloadend=()=>{if(!a.result||"string"!=typeof a.result)return void t(null);const e=a.result.split(",")[1];t(e)},a.readAsDataURL(e)})},22:function(e,t,n){"use strict";var a=n(0),r=n(19),s=n(10);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){o=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,a,r){var s=RegExp(e,a);return t.set(s,r||t.get(e)),u(s,n.prototype)}function a(e,n){var a=t.get(n);return Object.keys(a).reduce((function(t,n){var r=a[n];if("number"==typeof r)t[n]=e[r];else{for(var s=0;void 0===e[r[s]]&&s+1<r.length;)s++;t[n]=e[r[s]]}return t}),Object.create(null))}return l(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=a(n,this);var r=n.indices;r&&(r.groups=a(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var s=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=s[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=i(e[e.length-1])&&(e=[].slice.call(e)).push(a(e,o)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},o.apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var c={"random.number":["min","max"],"random.alpha":["length"]},d=function(e){return e.replace(/\{{2}|\}{2}|\(.*?\)/g,"")},h=function(e){var t=d(e),n=function(e){var t=e.match(o(/\{{2}.*?\((.*)\).*?\}{2}/,{params:1}));return t?t.groups.params.replace(/\s/g,"").split(",").filter(Boolean):[]}(e);if(t in c&&n.length===c[t].length){var a=c[t].reduce((function(e,t){var a=n.shift();return e[t]=parseInt(a),e}),{});return JSON.stringify(a)}return n.join("")},m=n(14);class p extends s.a{constructor(){super(a.a.apiUrl+"ExternalTestDriver/Variables/"),this.authHeaders={base64AuthKey:()=>a.a.ApiKey}}async getFakeData(e){var t,n,a,r;return n=d(t=e),a=h(t),r="{{".concat(n),a.length&&(r+="(".concat(h(t),")")),e=r+="}}",m.fake(e)}}var g=new p,f=n(2);const b=e=>y(w(e)),w=e=>e.replace(/(\[\d*\]){0,1}/g,""),y=e=>e.replace(/(\(.*\)){0,1}/g,""),v=(e,t)=>Object.values(t).find(t=>t.systemname===b(e)),S=e=>F.usedVariables.find(({systemname:t})=>e===t),E=e=>null,x=(e,t)=>{t.forEach((t,n)=>e.params.options[n].value=t)},A=e=>{var t,n;const a=null===(n=null===(t=e.match(/\{{2}.*?\[(?<index>\d*)\].*?\}{2}/))||void 0===t?void 0:t.groups)||void 0===n?void 0:n.index;if(null!=a&&!isNaN(parseInt(a)))return parseInt(a)},D=async({variableObj:e,input:t,variableIndex:n,actionValue:a,nodeValue:r})=>{var s;let i=S(e.systemname),o=a,l="";const u=null===(s=null==i?void 0:i.values)||void 0===s?void 0:s[n-1];if(u)l=r.replace(t,u);else{const n=await e.generate(),s=t.replace(/(\[\d*\])?(\}{2})/,"$2");o=a.replace(new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"g"),s),l=r.replace(s,n)}return{parsedSystemValue:o,parsedNodeValue:l}},R=async({input:e,actionValue:t,nodeValue:n})=>({parsedSystemValue:t,parsedNodeValue:n.replace(e,null)}),T=async e=>{if(!e.generate)return"";let t;return e.params&&(t=(e=>{if("list"===e.paramType){const t=e.options.filter(e=>e.value||e.defaultValue).map(e=>e.value);return t.length?t:void 0}if("object"===e.paramType){const t=Object.fromEntries(e.options.filter(e=>e.value||e.defaultValue).map(e=>[e.key,e.value]));return Object.values(t).length?t:void 0}return[]})(e.params),t=t?JSON.parse(JSON.stringify(t)):void 0,e.params.options.forEach(e=>e.value="")),e.generate(t)};var k=(e,t)=>{const n=Object.values(t).map(e=>e.systemname);return(e.match(/\{{2}.*?\}{2}/g)||[]).filter(e=>n.includes(b(e)||E(e)))},O=async({input:e,actionValue:t,nodeValue:n,actionTypeVariables:a})=>{const r=A(e),s=b(e),i=v(s,a),o=(e=>{var t,n,a;return E(e)?[]:(null===(a=null===(n=null===(t=e.match(/\{{2}.*?\((?<params>.*)\).*?\}{2}/))||void 0===t?void 0:t.groups)||void 0===n?void 0:n.params)||void 0===a?void 0:a.split(","))||[]})(e);return E(s)?R({actionValue:t,input:e,nodeValue:n}):isNaN(parseInt(r))?(async({variableObj:e,input:t,actionValue:n,nodeValue:a,variableParams:r})=>{x(e,r);const s=await T(e);return{parsedSystemValue:n.replace(t,w(t)),parsedNodeValue:a.replace(t,s)}})({variableObj:i,actionValue:t,input:e,nodeValue:n,variableParams:o}):D({variableObj:i,actionValue:t,input:e,nodeValue:n,variableIndex:r||0})};const q={"{{random.alpha}}":{paramType:"object",options:[{label:"Length",type:"input",key:"count",value:""}]},"{{random.number}}":{paramType:"object",options:[{label:"Min",type:"input",key:"min",value:"",defaultValue:1},{label:"Max",type:"input",key:"max",value:""}]},"{{random.alphaNumeric}}":{paramType:"list",options:[{label:"Length",type:"input",value:""}]}},P=["address","animal","commerce","company","database","datatype","date","finance","git","hacker","helpers","image","internet","lorem","music","name","phone","random","system","time","unique","vehicle"],N=(e,t)=>{Object.entries(m).forEach(([n,a])=>{P.includes(n)&&"object"==typeof a&&Object.entries(a||{}).forEach(([a,r])=>{if("function"==typeof r){const r=`{{${n}.${a}}}`,s=""+Object(f.q)(a);e[r]={systemname:r,displayName:s,reusable:!0,params:q[r],generate:function(...e){return t({...this,generator:()=>m[n][a](...e)})}}}})})};var C=n(1);var F=new class{constructor(){this.processVariable=async({systemname:e,displayName:t,generator:n,reusable:a})=>{let r="";const s=this.usedVariables.find(t=>t.systemname===e);if(a||!a&&!s){do{r=await n()}while(this.isValueAlreadyGenerated(e,r));this.addUsedVariable(e,t,r)}else r=s.values[0];return r}}get usedVariables(){return a.a.state.variables.used||(a.a.state.variables.used=[]),a.a.state.variables.used}get generatedEmail(){let e=a.a.state.variables.email||this.generateNewEmail();return a.a.state.variables.email=e,e}get generatedAdminEmail(){let e=a.a.state.variables.adminEmail||this.generateNewAdminEmail();return a.a.state.variables.adminEmail=e,e}generateNewEmail(){return`${Object(f.c)().substring(0,16)}@${a.a.emailDomain}`}generateNewAdminEmail(){return`${Object(f.c)().substring(0,16)}@${a.a.adminEmailDomain}`}async replaceVariables(e){const t=k(e,this.actionTypeVariables)||[];let n=e;try{C.a.debug("replaceVariables",{input:C.a.maskString(e),inputVariables:t.map(e=>C.a.maskString(e))});for(let e of t){const{parsedSystemValue:t,parsedNodeValue:a}=await O({input:e,actionValue:n,nodeValue:n,actionTypeVariables:this.actionTypeVariables});n=a}}catch(e){throw new Error("Resolving variables failed. "+(e.responseText?e.responseText:e.statusText))}return n}generateRandomString(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";return new Array(e+1).join("0").replace(/[0]/g,e=>t[crypto.getRandomValues(new Uint8Array(1))[0]%(t.length-1)]).toString()}addUsedVariable(e,t,n){let a=this.usedVariables.find(t=>t.systemname==e);a?a.values.push(n):this.usedVariables.push({systemname:e,displayName:t,values:[n]})}isValueAlreadyGenerated(e,t){let n=this.usedVariables.find(n=>{var a;return n.systemname==e&&n.values&&(null===(a=n.values)||void 0===a?void 0:a.includes(t))});return null!=n&&n.length>0}get actionTypeVariables(){let e=this,t={shuffle:{systemname:"{{shuffle}}",displayName:"{{shuffle}}",hint:"e.g. x9wj4g",reusable:!1,generate:function(){return e.processVariable({...this,generator:()=>e.generateRandomString(6)})}},timestamp:{systemname:"{{timestamp}}",displayName:"{{timestamp}}",hint:"1587999131",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>Date.now().toString()})}},testResultID:{systemname:"{{testResultID}}",displayName:"{{testResultID}}",hint:"e.g. vjr3069wjsmx",reusable:!1,generate:function(){return e.processVariable({...this,generator:()=>e.generateRandomString(12)})}},generateEmail:{systemname:"{{generate.email}}",displayName:"Email",hint:"{{shuffle}}@"+a.a.emailDomain,reusable:!1,generate:function(){return e.processVariable({...this,generator:()=>e.generatedEmail})}},generateAdminEmail:{id:"40",systemname:"{{generate.adminEmail}}",displayName:"Admin Email",hint:"{{shuffle}}@"+a.a.emailDomain,reusable:!1,generate:function(){return e.processVariable({...this,generator:()=>e.generatedAdminEmail})}},firstName:{systemname:"{{name.firstName}}",displayName:"First Name",hint:"e.g. Peter",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},lastName:{systemname:"{{name.lastName}}",displayName:"Last Name",hint:"e.g. Smith",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},phoneNumber:{systemname:"{{phone.phoneNumber}}",displayName:"Phone Number",hint:"e.g. (940) 438-7101",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},companyName:{systemname:"{{company.companyName}}",displayName:"Company Name",hint:"e.g. Random Inc",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},url:{systemname:"{{internet.url}}",displayName:"Web Site",hint:"e.g. mario.com",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},city:{systemname:"{{address.city}}",displayName:"City",hint:"Chicago",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},state:{systemname:"{{address.state}}",displayName:"State",hint:"Illinois",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},stateAbbr:{systemname:"{{address.stateAbbr}}",displayName:"State Abbr",hint:"IL",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},streetAddress:{systemname:"{{address.streetAddress}}",displayName:"Street",hint:"3672 Josh Falls",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}},zipCode:{systemname:"{{address.zipCode}}",displayName:"Zip Code",hint:"60000",reusable:!0,generate:function(){return e.processVariable({...this,generator:()=>g.getFakeData(this.systemname)})}}};return N(t,this.processVariable),t}},I=n(43);class j extends s.a{constructor(){super(a.a.apiUrl+"ExternalTestDriver/Emails/"),this.authHeaders={base64AuthKey:()=>a.a.ApiKey}}async getEmails(e){try{let t=await this.get("List/"+e);return JSON.parse(t)}catch(e){return[]}}async getEmail(e){let t=await this.get(e),n=new I.a;return n.contentHtml=t,n.guid=e,n}}var L=new j,V=n(44);class M{constructor(e){this.doc=e,this.email=F.generatedEmail}async process(e,t=3e4){let n=Date.now()+t,a=null;for(;n>Date.now();){C.a.log("checkEmails",`Checking ${this.email} for received email "${e}"`);let n=await L.getEmails(this.email);if(a=this.findEmailBySubject(n,e),a)break;await Object(f.p)(t/6)}if(!a)throw new Error(`Email with subject "${e}" was not found in timeout.`);let r=await L.getEmail(a.guid);this.openEmailInIframe(r.contentHtml),C.a.log("openEmail",`Open email with subject "${e}"`)}findEmailBySubject(e,t){let n=e.map(e=>{var n,a,r;return{email:e,distance:Object(V.distance)(null===(a=null===(n=e.subject)||void 0===n?void 0:n.toLowerCase())||void 0===a?void 0:a.trim(),null===(r=null==t?void 0:t.toLowerCase())||void 0===r?void 0:r.trim())}}),a=Object(f.f)(n.sort((e,t)=>t.distance-e.distance));return!a||a.distance>a.email.subject.length/2?null:a.email}openEmailInIframe(e){let t=e;t=t.replace("'","\\'"),t=t.replace("\n|\t"," "),t=t.replace("[\n\r]+s*",""),t=t.replace("s{2,}"," ");let n=this.doc.createElement("style");n.innerHTML=".email-overlay{display: flex; flex-direction: column; align-items: flex-end; position: fixed; right: 100px; top: 20px; width: 90vw; max-height: 90vh; height: 100%; padding: 10px; background: #fff; border-radius: 5px; box-shadow: 1px 30px 30px -28px rgba(27, 23, 59, 0.2), 0px 9px 34px rgba(27, 23, 59, 0.22);z-index:2147483647}.email-overlay iframe{border: 0; width: 100%; height: 100%;}",this.doc.getElementsByTagName("head")[0].appendChild(n);let a=this.doc.createElement("preflight-main"),r=this.doc.createElement("preflight-email");r.classList.add("data-box-content");let s=this.doc.createElement("iframe");var i,o;s.id="pf-email-iframe",i=s,o=function(e){return e.replace(/<a/g,'<a target="_parent"')}(o=e),"srcdoc"in i?i.setAttribute("srcdoc",o):i.setAttribute("src","javascript: '"+o+"'"),r.classList.add("email-overlay"),a.appendChild(r),r.appendChild(s),this.doc.body.appendChild(a)}}class ${constructor(e){this.doc=e}process(){this.doc.body.removeChild(this.doc.querySelector("preflight-main")),C.a.log("closeEmail")}}var W=n(3);t.a=new class{initialize(e){a.a.initialize(),a.a.ApiKey||(a.a.ApiKey=e)}get doc(){return Object(W.d)()}async findElement(e,t,n,s,i=a.a.options.getElementTimeout){let o=new r.a(e,n,t,s),l=await o.process(i);if(!l)throw new Error("Element not found.");return l}async replaceVariables(e){var t,n,r;if(!(null===(t=null===a.a||void 0===a.a?void 0:a.a.options)||void 0===t?void 0:t.isEnabled)||!(null===(r=null===(n=null===a.a||void 0===a.a?void 0:a.a.options)||void 0===n?void 0:n.debug)||void 0===r?void 0:r.isReplacingVariablesEnabled))return e.replace(/{{/g,"").replace(/}}/g,"");try{return await F.replaceVariables(e)}catch(t){return C.a.debug("replaceVariables Exception",t),e}}async openEmail(e,t){let n=new M(e);await n.process(t)}closeEmail(e){new $(e).process()}getStore(){return JSON.stringify({state:a.a.state,apiKey:a.a.ApiKey})}setStore(e){if(!e)return;let t=JSON.parse(e);a.a.state=t.state,a.a.ApiKey=t.apiKey}}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>Cypress.spec.absolute.split("/").slice(0,-1).join("/")},3:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(1),r=(n(8),n(2)),s=n(0),i=n(7);const o=()=>cy.state("window").document,l=()=>cy.state("window")||{},u=(e,t,n=500)=>{a.a.debug("waitForAssertion",{timeout:t,waitBeforeRetries:n});let r=Date.now();return function s(){return e()?(a.a.debug("waitForAssertion: assertionFunction is true"),cy.wrap(!0,{log:!1})):Date.now()-r>t?(a.a.debug("waitForAssertion: timeout"),cy.wrap(!1,{log:!1})):cy.wait(n,{log:!1}).then(s)}()},c=()=>{var e,t,n,r,i;let o=l();return(null===(e=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===e?void 0:e.isEnabled)&&(null===(n=null===(t=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===t?void 0:t.waitForNetworkCalls)||void 0===n?void 0:n.isEnabled)&&2==(null===(i=null===(r=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===r?void 0:r.debug)||void 0===i?void 0:i.waitForNetworkCallsSolution)?o.networkShimInjected?(a.a.debug("injectNetworkShimInNecessary: NetworkShim is injected"),!0):(a.a.debug("injectNetworkShimInNecessary: waitNetworkCalls injecting NetworkShim"),o.isNetworkLogEnabled=s.a.options.debug.isNetworkLogEnabled,o.networkShim_checkSockets=s.a.options.waitForNetworkCalls.checkWebSockets,o.networkShim_requestsAllowListRegex=s.a.options.waitForNetworkCalls.requestsAllowListRegex,o.networkShim_minNetworkIdleTimeThreshold=s.a.options.waitForNetworkCalls.idle,o.eval("\nclass NetworkShim {\n  win = {};\n  excludedUrls = ['preflight-driver', 'stream'];\n  requestTimeoutThreshold = 30000;\n  last30sRequests = [];\n  waitingWebSocketMessages = [];\n  apiEndpoint = 'network';\n  log = false;\n  wsTimeout = 1000;\n  requestsAllowListRegex = null;\n  lastRequestEndedAt = 0;\n  minNetworkIdleTimeThreshold = 2000;\n  constructor(){\n    window.areAllRequestsDone = false;\n    window.openRequestList = [];\n    window.openRequestUrlList = [];\n    window.networkShim = this;\n    window.networkShimInjected = true;\n    this.log = !!window.isNetworkLogEnabled;\n    this.lastRequestEndedAt = 0;\n    this.requestsAllowListRegex = window.networkShim_requestsAllowListRegex;\n    this.minNetworkIdleTimeThreshold = window.networkShim_minNetworkIdleTimeThreshold;\n  }\n\n  checkTimedOutRequests() {\n    let timedOutRequests = window.openRequestList.filter(r =>\n        (r.timeoutAt < (new Date()).getTime())\n        || (!!r && !!r.request && (r.request.readyState == 4 || r.request.readyState == 0))\n    );\n\n    timedOutRequests.forEach((tr) => { networkShim.onRequestEnded(tr, true); });\n    this.last30sRequests = this.last30sRequests.filter(r =>\n      ((r.startedAt + 30000) > (new Date()).getTime())\n    );\n    this.waitingWebSocketMessages = this.waitingWebSocketMessages.filter(r =>\n      ((r.timeoutAt) > (new Date()).getTime())\n    );\n    this.updateRequestStatus();\n  }\n\n  onPageLoaded = () => {\n    window.removeEventListener('load', this.onPageLoaded);\n    this.updateRequestStatus();\n  }\n  \n  xhrOpenShim_networkWatch(xhr, method, url){\n      if(window.networkShim.pushRequest(xhr, method, url)) {\n        if(this.log) console.debug('XMLHttpRequest OPEN ' + method + ' => ' + url, arguments);\n      } \n  }  \n\n  start() {\n    if(window.document.readyState == 'complete'){\n      this.onPageLoaded();\n    } else {\n      window.addEventListener('load', this.onPageLoaded);\n    }\n    setInterval(this.checkTimedOutRequests.bind(this), 2000);\n    //handling older method of sending requests\n    const openedXMLRequest = XMLHttpRequest.prototype.open;\n    let that = this;\n    XMLHttpRequest.prototype.open = function (method, url) {     \n      that.xhrOpenShim_networkWatch(this, ...arguments);\n      openedXMLRequest.apply(this, arguments);\n    }\n    \n    const sendXMLRequest = XMLHttpRequest.prototype.send;\n    XMLHttpRequest.prototype.send = function () {\n      sendXMLRequest.apply(this, arguments);\n    }\n    \n    if(window.WebSocket && window.networkShim_checkSockets) {\n      const nativeWebSocket = window.WebSocket;\n      window.WebSocket = function (...args) {\n        const socket = new nativeWebSocket(...args);\n        const nativeSend = socket.send;\n        socket.send = function(data){\n          window.networkShim.onWebSocketMessageSent(socket, data);\n          //if(this.log) console.debug('WebSocket send: ' + data);\n          return nativeSend.apply(this, [data]);\n        }\n        socket.addEventListener('message', function (event) {\n          window.networkShim.onWebSocketMessageReceived(socket, event.data);\n          //if(this.log) console.debug('WebSocket receive', event.data);\n        });\n        return socket;\n      };\n    }\n\n    //handling newer method of sending requests\n    if (window.fetch) { // IE not support fetch\n      const fetchOriginal = fetch;\n      fetch = (request, props) => {\n        let requestGuid = generateGuid();\n        let method = props ? props.method : null\n        if(window.networkShim.pushFetch(request, method, requestGuid)){\n          if(this.log) console.debug('FETCH => ' + request);\n        }\n        let promise = fetchOriginal(request, props);\n        promise\n          .then((response) => {\n            let rqData = window.openRequestList.find(r => r.guid === requestGuid);\n            //console.debug('FETCH RESPONSE: ', rqData, window.openRequestList);\n            window.networkShim.popRequest(rqData);\n          })\n          .catch((error) => {\n            let rqData = window.openRequestList.find(r => r.guid === requestGuid);\n            window.networkShim.popRequest(rqData);\n          })\n        return promise;\n      }\n    }\n\n    // handling form submits TODO\n  }\n\n  onWebSocketMessageSent(socket, data){\n    this.pushWebSocketMessage('send', data, 4000, socket.url);\n  }\n\n  onWebSocketMessageReceived(socket, data){\n    this.pushWebSocketMessage('receive', data, this.wsTimeout, socket.url);\n  }\n\n  pushFetch(request, method, guid){\n    let url = request;\n    if(request && (typeof request) !== 'string'){\n      url = request.url;\n    }\n    let requestData = {\n      guid: guid,\n      request: null,\n      url,\n      method,\n      startedAt: new Date().getTime(),\n      timeoutAt: new Date().getTime() + 10000\n    }\n    this.last30sRequests.push(requestData);\n    if(this.isUrlExcluded(url)){\n      return false;\n    }\n    this.pushOpenRequests(requestData);\n    return true;\n  }\n\n  pushWebSocketMessage(method, message, timeout = 5000, url = null){\n    if(message.includes('ping') || message.includes('pong')){\n      return;\n    }\n    let data = {\n      guid: generateGuid(),\n      request: null,\n      url: 'WebSocket',\n      method,\n      startedAt: new Date().getTime(),\n      timeoutAt: new Date().getTime() + timeout\n    }\n    this.waitingWebSocketMessages.push(data);\n    this.updateRequestStatus();\n    return true;\n  }\n\n  isUrlExcluded(url) {\n    if(!url || (typeof url) !== 'string'){\n      return false;\n    }\n    if(this.requestsAllowListRegex && this.requestsAllowListRegex.length > 0) {\n        if(!this.requestsAllowListRegex.some(r => url.match(r))){\n            if(this.log) console.debug('URL not allowed by requestsAllowListRegex: ' + url);\n            return true;\n        }\n    } else if(!!this.last30sRequests.filter(r => r.url === url).length >= 3) { // if the request repeats 3 times in last 30s ignore it\n        return true;\n    }\n    return !!this.excludedUrls.find(excludedUrl => url.includes(excludedUrl))\n  }\n\n  pushOpenRequests(requestData){\n    window.openRequestList.push(requestData);\n    //console.debug('PUSH REQUEST: ', requestData);\n    this.updateRequestStatus();\n  }\n  pushRequest(request, method, url){\n    let requestData = {\n      guid: generateGuid(),\n      request,\n      url,\n      method,\n      startedAt: new Date().getTime(),\n      timeoutAt: new Date().getTime() + this.requestTimeoutThreshold\n    }\n    this.last30sRequests.push(requestData);\n    if(this.isUrlExcluded(url)){\n      return false;\n    }\n    this.pushOpenRequests(requestData);\n    request.addEventListener('loadend', function() { window.networkShim.onRequestEnded(requestData) } );\n    request.addEventListener('timeout', function() {\n      window.networkShim.onRequestEnded(requestData, true)\n    });\n    return true;\n  }\n\n  popRequest(requestData){\n    if(!requestData){\n        return;\n    }\n    //console.debug('POP REQUEST: ', requestData);   \n    window.openRequestList = window.openRequestList.filter(rd => rd.guid != requestData.guid);\n    this.updateRequestStatus();    \n    this.lastRequestEndedAt = Date.now();\n  }\n\n  onRequestEnded(requestData, isTimedOut = false){\n    if(isTimedOut){\n      if(this.log) console.debug('TIMED OUT => ' + requestData.url);\n    }    \n    this.popRequest(requestData);\n  }\n\n  isCloudFlareBrowserVerificationIsProcessing(){\n    let cfBrowserVerificationEl = document.querySelector('.cf-browser-verification');\n    let cfImUnderAttackEl = document.querySelector('.cf-im-under-attack');\n    return isElVisible(cfBrowserVerificationEl) || isElVisible(cfImUnderAttackEl)\n  }\n\n  updateAreAllRequestDoneDebounced = debounce((val) => {\n    window.areAllRequestsDone =\n      window.openRequestList.length == 0\n      && this.waitingWebSocketMessages.length == 0\n      && (document.readyState == 'complete' || document.readyState == 'interactive')\n      && this.lastRequestEndedAt < (Date.now() - this.minNetworkIdleTimeThreshold)\n      && !this.isCloudFlareBrowserVerificationIsProcessing()\n    if(this.log) console.debug('isAllRequestDoneDebounced: ' + window.areAllRequestsDone, {rq: window.openRequestList, ws: this.waitingWebSocketMessages});\n    if(window.areAllRequestsDone){\n      if(this.log) console.debug('---------------------  PAGE FINISHED  -----------')\n    } else {\n      if(this.log) console.debug('---------------------  LOADING...  ---------------')\n    }\n  }, 200, 0,5000)\n\n  updateRequestStatus() {\n    // if no request is currently processing we will wait 1s before setting window.isAllRequestsDone to true\n    // but if new request will arrive we want to set window.isAllRequestsDone to false immediately\n    this.updateAreAllRequestDoneDebounced();\n    if((window.openRequestList.length != 0 || this.waitingWebSocketMessages.length != 0) && window.areAllRequestsDone){\n      window.areAllRequestsDone = false;\n      //if(this.log) console.debug('areAllRequestsDone: ' + window.areAllRequestsDone);\n    }\n  }\n}\nfunction debounce(func, wait, minTime = 0, maxTime = Number.MAX_VALUE) {\n  let timeout;\n  let started = Date.now();\n  return function () {\n    if (!timeout) {\n      started = Date.now();\n    }\n    let context = this, args = arguments;\n    let later = function () {\n      if (Date.now() - started < minTime) {\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        return;\n      }\n      timeout = null;\n      func.apply(context, args);\n      started = Date.now();\n    };\n    if (Date.now() - started > maxTime) {\n      func.apply(context, args);\n      started = Date.now();\n    }\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\nfunction generateGuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\nfunction isElVisible(el) {\n  if(!el){\n    return false;\n  }\n  let style = getComputedStyle(el);\n  let result = (el.offsetWidth !== 0 && el.offsetHeight !== 0)\n      && style.display != 'none' && !['hidden', 'collapse'].includes(style.visibility);\n  return result;\n}\n\nlet ns = new NetworkShim();\nns.start();\n"),a.a.debug("injectNetworkShimInNecessary: !!win.networkShimInjected: "+!!o.networkShimInjected),!!o.networkShimInjected):(a.a.debug("injectNetworkShimInNecessary: NetworkShim is disabled"),!1)},d=()=>{let e=l();return{areAllRequestsDone:e.areAllRequestsDone,openRequestList:e.openRequestList,openRequestUrlList:e.openRequestUrlList,networkShimInjected:e.networkShimInjected}};const h=e=>{const t=e.cloneNode(!0);t.querySelectorAll(["script","style"].join(",")).forEach(e=>e.remove());let n=t.textContent;var a,s;return m(e,["input","textarea"])&&(n="checkbox"===(s="type",(a=e)?a.getAttribute(s):null)?e.checked?"checked":"unchecked":e.value),m(e,["select"])&&(n=e.options[e.selectedIndex].text),Object(r.m)(n)};function m(e,t){return t.indexOf(e.tagName.toLowerCase())>-1}function p(e,t){a.a.debug("checkTextAssertion",{subject:e,equalTo:t});let n=e?h(e):null;n=Object(r.m)(n),t=Object(r.m)(t);try{expect(n).to.contain(t)}catch(e){throw new i.a(`Text assertion failed. Expected: "${t}", but got: "${n}"`)}}function g(e){return[...[null==e?void 0:e.iframe,...(null==e?void 0:e.iframes)||[]].filter(Boolean),...(null==e?void 0:e.parentSelectors)||[]]}},4:function(e,t,n){"use strict";var a=n(8),r=n(5),s=n(13),i=n(0),o=n(2),l=n(9),u=n(1);t.a=new class{constructor(){this.excludedAttributeValueKeywords=["sorted-"]}async generateAutohealDataForElement(e,t,n){let a=this.getSelectors(e,t,n),r=this.getSelectorsAsActionData(a),i=await this.getContextAwarenessActionData(e);i&&r.push(i);let o=await this.getExpectedInnerTextActionData(e);return o&&r.push(o),new s.a(r)}async generatePomAutohealDataForElement(e,t,n){let a={parsedData:null,selectors:[],expectedText:null},r=this.getSelectors(e,t,n);a.selectors=[...r.primaryCss,...r.primaryXpath,...r.secondaryCss,...r.secondaryXpath];let s=await this.getContextAwarenessActionData(e);return s&&(a.parsedData=JSON.parse(s.value)),e.innerText&&(a.expectedText=e.innerText),a}getTestAutohealDataFileCache(e){return i.a.state.autohealDataCache.test[e]}getPomAutohealDataFileCache(e){return i.a.state.autohealDataCache.pom[e]}getTestAutohealDataFromLocalFile(e){u.a.debug("getTestAutohealDataFromLocalFile: "+e);let t=`${e}${i.a.localAutohealDataSuffix}`;return cy.readFileIfExists(t,i.a.options.autohealDataFolders)}getPomAutohealDataFromLocalFile(e){u.a.debug("getPomAutohealDataFromLocalFile: "+e);let t=`${e}${i.a.localPomAutohealDataSuffix}`;return cy.readFileIfExists(t,i.a.options.autohealDataFolders)}getDefaultAutohealDataFolderPath(e){return`${Object(o.f)(i.a.options.autohealDataFolders)}/${`${e}${i.a.localAutohealDataSuffix}`}`}getDefaultPomAutohealDataFolderPath(e){return`${Object(o.f)(i.a.options.autohealDataFolders)}/${`${e}${i.a.localPomAutohealDataSuffix}`}`}getActionAutohealByContextId(e,t){var n;if(!e||!e.actions)return null;return null===(n=null==e?void 0:e.actions)||void 0===n?void 0:n.find(e=>Object(o.e)(e.selector)==Object(o.e)(t))}getActionAutohealDataByContextId(e,t){let n=this.getActionAutohealByContextId(e,t);return n?new s.a(n.data):null}getSelectorsAsActionData(e){let t=[];return t.push(...e.primaryXpath.map(t=>({type:r.a.xpathselector,value:t,executionOrder:e.bestSelector==t?0:1})),...e.secondaryXpath.map(t=>({type:r.a.possiblexpathselector,value:t,executionOrder:e.bestSelector==t?0:1})),...e.primaryCss.map(t=>({type:r.a.cssselector,value:t,executionOrder:e.bestSelector==t?0:1})),...e.secondaryCss.map(t=>({type:r.a.possiblecssselector,value:t,executionOrder:e.bestSelector==t?0:1}))),t}getSelectors(e,t,n){let r=new a.SelectorsGenerator(e.ownerDocument,t,{...n,excludedAttributeValueKeywords:[...n.excludedAttributeValueKeywords,...this.excludedAttributeValueKeywords]}),s=[];try{s=r.getBestSelectors(e,20),s.length<3&&(console.warn("Selectors Generator created too little selectors",s),s=[...s,...r.getSelectorsOldWay(e)])}catch(t){console.error("Selectors Generator failed",t),s=r.getSelectorsOldWay(e)}let i=s.filter(e=>e.score>=.7).slice(0,8);i.length<5&&(i=s.slice(0,5));let o=[];if(n){let e=n.includedAttributeTypes||[];if(e.length>0){let t=.1;s.forEach(e=>e.score-=t);for(let n of s){let a=t;for(let r of e)n.value.includes(r)&&(n.score=1-t+a,o.push(n)),a>.01&&(a-=.01)}}}o=o.sort((e,t)=>t.score-e.score);let l=s.filter(e=>!i.includes(e)),u=i.filter(e=>"xpath"==e.type).map(e=>e.valueToShow),c=l.filter(e=>"xpath"==e.type).map(e=>e.valueToShow),d=i.filter(e=>"css"==e.type),h=l.filter(e=>"css"==e.type).map(e=>e.valueToShow);o=o&&o.length>0?o:a.SelectorsGenerator.findBestSelectors(i,1);let m=o&&o.length>0?o[0]:null;return o||(m=r.getBestSelector(e,{})),{primaryXpath:u,secondaryXpath:c,primaryCss:d.map(e=>e.valueToShow),secondaryCss:h,bestSelector:null==m?void 0:m.valueToShow}}async getContextAwarenessActionData(e,t=!0){if(!t)return null;let n=new l.WebPageParser(e.ownerDocument.body,[],!1,!1,e.ownerDocument);console.debug("start parsing");let a=n.getParsedDataForElement(e,!0,!0,!0);return console.debug(a),a?(console.debug("parsing finished"),{type:r.a.contextParserData,value:JSON.stringify({parserVersion:n.parserVersion,target:a.pseudoSelector,data:a.parsedTreeFlat})}):void 0}async getExpectedInnerTextActionData(e){let t=e.innerText,n=null;return t&&(n={text:t}),{type:r.a.screenshottargetposition,value:JSON.stringify({elementDetails:[{target:n}]})}}}},47:function(e,t,n){"use strict";t.a={cypressConfigNamespace:"applitoolsTestGenAI"}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));const a=new Array("offsetHeight","scrollHeight","clientHeight"),r=/text|password|search|tel|url/;let s=document;function i(e=s){s=e;const t=c()||s.body;return l(t,h(t))}function o(e=s.body){return{toPreviousElement:()=>l(e,d(),!0),toNextElement:()=>l(e,h(e)),to:(t,n=!1)=>l(e,t,n)}}function l(e,t,n=!1){if(e.dispatchEvent(u("keydown",n))){if(e.blur(),t.focus(),s.activeElement!==t)try{s.activeElement=t}catch(e){console.warn("could not switch active element")}t.tagName&&r.test(t.type)&&(t.selectionStart=0);const a=u("keyup",n);return t.dispatchEvent(a),!0}return e.dispatchEvent(u("keypress",n)),e.dispatchEvent(u("keyup",n)),!1}function u(e,t=!1){return new KeyboardEvent(e,{code:"Tab",key:"Tab",cancelable:!0,bubbles:!0,shiftKey:t})}function c(){const e=s.activeElement;return e.tagName?e:void 0}function d(e=s.body){const t=m();if(t.length<1)throw new Error("no selectable elements found");const n=t.indexOf(e);return t[(n>0?n:t.length)-1]}function h(e=s.body){const t=m();if(t.length<1)throw new Error("no selectable elements found");const n=t.indexOf(e);return t[n+1<t.length?n+1:0]}function m(){const e=Array.from(s.querySelectorAll("*")).filter(p);f();const t=e.filter(function(...e){return t=>!e.some(e=>!e(t))}(y,g,v,S,E)).reduce((e,t)=>{const n=t.tabIndex,a=e[""+n]||{tabIndex:n,elements:[]};return a.elements.push(t),e[n]=a,e},{});return Object.values(t).sort(x).reduce((e,t)=>e.concat(t.elements),new Array)}!function(e){e.from=o,e.to=(e,t=!1)=>o(c()).to(e,t),e.backwards=()=>e.to(d(c()),!0),e.forwards=()=>e(),e.findSelectableElements=m}(i||(i={}));const p=e=>!!e.tagName;let g,f=()=>{const e=function e(t=s.body){const n=t,r=a.find(e=>{const t=n[e];return t&&"number"==typeof t&&t>0});if(r)return r;const i=t.children;for(const t of Array.from(i)){const n=e(t);if(n)return n}return}();g=e?b(e):w,f=()=>{}};const b=e=>t=>{const n=t[e];return!!n&&"number"==typeof n&&n>0};const w=e=>{if(!e.isConnected)return!1;if("BODY"===e.tagName)return!0;const t=getComputedStyle(e);if("none"===t.display)return!1;if("collapse"===t.visibility)return!1;const n=e.parentElement;return!!n&&w(n)};function y(e){return"number"==typeof e.tabIndex&&e.tabIndex>=0}const v=e=>!e.disabled;function S(e){return!("A"==e.tagName&&!e.href&&null===e.getAttribute("tabIndex"))}const E=e=>"collapse"!==getComputedStyle(e).visibility;function x(e,t){if(e.tabIndex>0&&t.tabIndex>0)return e.tabIndex-t.tabIndex;if(e.tabIndex>0)return-e.tabIndex;if(t.tabIndex>0)return t.tabIndex;throw new Error("same tab index for two groups")}class A{constructor(e,t){this.doc=e,this.element=t}process(){try{this.element.focus(),i(this.doc)}catch(e){}}}},5:function(e,t,n){"use strict";t.a={xpathselector:"xpathselector",possiblexpathselector:"possiblexpathselector",possiblecssselector:"possiblecssselector",cssselector:"cssselector",tocssselector:"tocssselector",toxpathselector:"toxpathselector",screenshoturl:"screenshoturl",emailFrom:"emailfrom",emailAction:"emailaction",emailToOpen:"emailToOpen",checkpointType:"checkpointtype",hierarchydata:"hierarchydata",waitbefore:"waitbefore",repeat:"repeat",clickType:"clicktype",screenshottargetposition:"screenshottargetposition",hover:"hover",position:"position",shadowroot:"shadowroot",inputtype:"inputtype",contextParserData:"contextparserdata",locatorpreference:"locatorpreference",visualdifferencethreshold:"visualdifferencethreshold",parentelementcssselector:"parentelementcssselector",filename:"fileName",scrollTo:"scrollto",pdfAction:"pdfaction",cyCheckOptions:"cyCheckOptions"}},6:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.SELECTORS="selectors",e.CONTEXT_AWARENESS="contextAwareness",e.INNER_TEXT="innerText"}(a||(a={}))},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a extends Error{constructor(e){super(e),console.debug("NoStackError - stack:",this.stack),this.stack=null}}}}]);